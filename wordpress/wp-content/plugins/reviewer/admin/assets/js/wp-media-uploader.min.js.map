{"version":3,"sources":["admin-wp-media-uploader.js"],"names":["renderMediaUploader","args","file_frame","undefined","open","wp","media","frames","title","library","type","button","text","multiple","on","selection","state","get","first","toJSON","inputField","jQuery","imgTag","val","url","attr","$","e","preventDefault","this","data","reviewId"],"mappings":"AAAA,QAAAA,qBAAAC,GACA,YAEA,IAAAC,EAMA,OAAAC,UAAAD,MAEAA,GAAAE,QAKAF,EAAAG,GAAAC,MAAAC,OAAAL,WAAAG,GAAAC,OAEAE,MAAAP,EAAAO,MACAC,SAAAC,KAAA,SACAC,QAAAC,KAAAX,EAAAU,QACAE,UAAA,IAIAX,EAAAY,GAAA,SAAA,WAEA,GAAAC,GAAAb,EAAAc,QAAAC,IAAA,aAAAC,QAAAC,SAIAC,EAAAC,OAAApB,EAAAmB,YACAE,EAAAD,OAAApB,EAAAqB,OACAF,GAAAG,IAAAR,EAAAS,KACAF,EAAAG,KAAA,MAAAV,EAAAS,WAMAtB,GAAAE,SAIA,SAAAsB,GACA,YAEAA,GAAA,WAGAA,EAAA,yBAAAZ,GAAA,QAAA,SAAAa,GACAA,EAAAC,gBACA,IAAA3B,IACAO,MAAAkB,EAAAG,MAAAC,KAAA,YACAnB,OAAAe,EAAAG,MAAAC,KAAA,aACAV,WAAA,wBACAE,OAAA,oBAIAtB,qBAAAC,KAKAyB,EAAA,yBAAAZ,GAAA,QAAA,4BAAA,SAAAa,GACAA,EAAAC,gBACA,IAAAG,GAAAL,EAAAG,MAAAC,KAAA,aACA7B,GACAO,MAAAkB,EAAAG,MAAAC,KAAA,YACAnB,OAAAe,EAAAG,MAAAC,KAAA,aACAV,WAAA,+BAAAW,EACAT,OAAA,yBAAAS,EAIA/B,qBAAAC,QAMAoB","file":"wp-media-uploader.min.js","sourcesContent":["function renderMediaUploader( args ) {\n    'use strict';\n \n    var file_frame, image_data;\n \n    /**\n     * If an instance of file_frame already exists, then we can open it\n     * rather than creating a new instance.\n     */\n    if ( undefined !== file_frame ) {\n \n        file_frame.open();\n        return;\n    }\n\n    // Create the file_frame\n    file_frame = wp.media.frames.file_frame = wp.media({\n\n        title: args.title,\n        library: { type: 'image' },\n        button: { text: args.button },\n        multiple: false\n    });\n \n    // Fire the select event\n    file_frame.on( 'select', function() {\n \n\t\tvar selection = file_frame.state().get('selection').first().toJSON();\n\n\t\t//console.log(args.inputField);\n\n\t\tvar inputField = jQuery(args.inputField);\n\t\tvar imgTag = jQuery(args.imgTag);\n\t\tinputField.val(selection.url);\n\t\timgTag.attr('src', selection.url);\n\t \t\t\n\t\t//console.log( selection);\n    });\n\n    // Now display the actual file_frame\n    file_frame.open();\n \n}\n \n(function( $ ) {\n    'use strict';\n \n    $(function() {\n\n    \t// Template Manager Star Rating Image\n        $( '#rwp-rating-image-btn' ).on( 'click', function( e ) {\n            e.preventDefault();\n            var args = {\n            \t'title': \t\t$(this).data('tb-title'),\n            \t'button': \t\t$(this).data('tb-button'),\n            \t'inputField': \t'#rwp-rating-image-url',\n            \t'imgTag': \t\t'#rwp-rating-image'\n            }\n\n            // Display the media uploader\n            renderMediaUploader(args);\n \n        });\n\n        // Review Image\n        $('#rwp-reviews-meta-box').on('click','.rwp-review-add-image-btn', function( e ) {\n            e.preventDefault();\n            var reviewId = $(this).data('review-id');\n            var args = {\n            \t'title': \t\t$(this).data('tb-title'),\n            \t'button': \t\t$(this).data('tb-button'),\n            \t'inputField': \t'#rwp-review-add-image-input-'+reviewId,\n            \t'imgTag': \t\t'#rwp-review-image-img-'+reviewId\n            }\n\n            // Display the media uploader\n            renderMediaUploader(args);\n \n        });\n \n    });\n \n})( jQuery );"],"sourceRoot":"/source/"}
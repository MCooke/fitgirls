{"version":3,"sources":["admin-tinymce-support-source.js"],"names":["rwpTinyMCEContent","tinymce","PluginManager","add","editor","url","reviewerMenu","reviews","length","jQuery","each","i","review","push","text","review_title","value","review_id","onclick","insertContent","this","tables","table","table_title","table_id","msg","addButton","title","type","menu","width","window","H","height","W","tb_show"],"mappings":"CAIA,WAEA,mBAAAA,qBACAC,QAAAC,cAAAC,IAAA,eAAA,SAAAC,EAAAC,GAGA,GAAAC,KAEAN,mBAAAO,QAAAC,OAAA,GAEAC,OAAAC,KAAAV,kBAAAO,QAAA,SAAAI,EAAAC,GAEAN,EAAAO,MACAC,KAAAF,EAAAG,aACAC,MAAA,mBAAAJ,EAAAK,UAAA,KACAC,QAAA,WACAd,EAAAe,cAAAC,KAAAJ,cAMAhB,kBAAAqB,OAAAb,OAAA,GAEAC,OAAAC,KAAAV,kBAAAqB,OAAA,SAAAV,EAAAW,GAEAhB,EAAAO,MACAC,KAAAQ,EAAAC,YACAP,MAAA,kBAAAM,EAAAE,SAAA,KACAN,QAAA,WACAd,EAAAe,cAAAC,KAAAJ,cAMAhB,kBAAAO,QAAAC,QAAA,GAAAR,kBAAAqB,OAAAb,QAAA,GACAF,EAAAO,MACAC,KAAAd,kBAAAyB,IACAP,QAAA,eAKAd,EAAAsB,UAAA,gBACAC,MAAA,gCACAC,KAAA,aACAC,KAAAvB,MAKAL,QAAAC,cAAAC,IAAA,sBAAA,SAAAC,EAAAC,GAGAD,EAAAsB,UAAA,uBACAC,MAAA,0BACAT,QAAA,WACA,GAAAY,GAAArB,OAAAsB,QAAAD,QAAAE,EAAAvB,OAAAsB,QAAAE,SAAAC,EAAAJ,EAAA,IAAA,IAAAA,CACAI,IAAA,GACAF,GAAA,GACAG,QAAA,0BAAA,oBAAAD,EAAA,WAAAF,EAAA","file":"tinymce-support.js","sourcesContent":["/**\r\n * Reviewer Plugin v.2\r\n * Created by Michele Ivani\r\n */\r\n(function() {\r\n\r\n    if (typeof rwpTinyMCEContent !== 'undefined' ) {\r\n        tinymce.PluginManager.add('rwp_reviewer', function( editor, url ) {\r\n\r\n            // Prepare button menu\r\n            var reviewerMenu = [];\r\n\r\n            if( rwpTinyMCEContent.reviews.length > 0 ) { \r\n                                \r\n                jQuery.each( rwpTinyMCEContent.reviews, function( i, review ) {\r\n\r\n                    reviewerMenu.push({\r\n                        text: review.review_title,\r\n                        value: '[rwp-review id=\"'+ review.review_id +'\"]',\r\n                        onclick: function() {\r\n                            editor.insertContent(this.value());\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            if( rwpTinyMCEContent.tables.length > 0 ) {\r\n\r\n                jQuery.each( rwpTinyMCEContent.tables, function( i, table ) {\r\n                    \r\n                    reviewerMenu.push({\r\n                        text: table.table_title,\r\n                        value: '[rwp-table id=\"'+ table.table_id +'\"]',\r\n                        onclick: function() {\r\n                            editor.insertContent(this.value());\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            if( rwpTinyMCEContent.reviews.length <= 0  && rwpTinyMCEContent.tables.length <= 0) {\r\n                reviewerMenu.push({\r\n                    text: rwpTinyMCEContent.msg,\r\n                    onclick: function() {}\r\n                });\r\n             }\r\n\r\n            // Add button to the editor\r\n            editor.addButton( 'rwp_reviewer', {\r\n                title: 'Reviewer | Reviews and Tables',\r\n                type: 'menubutton', \r\n                menu: reviewerMenu\r\n            });\r\n\r\n        });\r\n\r\n        tinymce.PluginManager.add('rwp_reviewer_widget', function( editor, url ) {\r\n\r\n            // Add button to the editor\r\n            editor.addButton( 'rwp_reviewer_widget', {\r\n                title: 'Reviewer | Reviews List',\r\n                onclick: function() {\r\n                    var width = jQuery(window).width(), H = jQuery(window).height(), W = ( 720 < width ) ? 720 : width;\r\n                    W = W - 80;\r\n                    H = H - 84;\r\n                    tb_show( 'Reviewer | Reviews List', '#TB_inline?width=' + W + '&height=' + H + '&inlineId=rwp-reviews-list-form' );\r\n                }\r\n            });\r\n\r\n        });\r\n    }\r\n})();"],"sourceRoot":"/source/"}